<section data-ng-controller="InmueblesController" data-ng-init="find()">
<div class="col-md-12 background-image page-header"><br>
  <!--Sección de botones-->
  <div class="col-lg-12 col-md-12 col-sm-12 btn-group btn-group-justified" role="group" aria-label="...">

  </div><br>
<div class="row">
    <div class="col-md-6"><br>
      <img src="modules/core/img/Logo1.png" width="250px" height="80px">
    </div>

     <div class="col-md-4 sombra2 text-center"><br>
     </div><br>
     <!--fin Carusel-->

    <div class="col-md-2 texttrans" ><br>
    
      <a href="/#!/inmuebles" ng-click="setTransaccion('Venta')">   
      Venta</font>

      </a>
     </div>
    
    <div class="col-md-2 texttrans"><br>
      <a href="/#!/inmuebles" ng-click="setTransaccion('Renta')">   
      Renta
      </a>
     </div>
          
      <div class="col-md-2 texttrans"><br>
      <a href="/#!/inmuebles" ng-click="setTransaccion('Traspaso')">   
      Traspaso
      </a>
     </div>
   </div>
  </div>


    <!-- Filtros personalizados -->
    <div class="col-md-3">
        <h4>Buscar por:</h4>
        
        <label>Tipo de inmueble: <br>
            <select id="inmCategoria" ng-model="categoriaActual" class="form-control">
                <option value="" selected></option>
                <option value="Casa">Casa</option>
                <option value="Departamento">Departamento</option>
                <option value="Oficina">Oficina</option>
                <option value="Penthouse">Penthouse</option>
                <option value="Loft">Loft</option>
                <option value="Terreno">Terreno</option>
                <option value="Bodega">Bodega</option>
                <option value="Local">Local</option>
                <option value="Otros">Otros</option>
            </select>
        </label><br>

        <label>Tipo de transacción:<br>
            <select id="inmTransaccion" ng-model="transaccionActual" class="form-control">
                <option value="" selected></option>
                <option value="Venta">Venta</option>
                <option value="Renta">Renta</option>
                <option value="Traspaso">Traspaso</option>
            </select>
        </label><br>
        
        <label class="control-label" for="estado">* Estado:<br>
            <select data-ng-model="estado" ng-options="state as state.valor for state in estados" id="estado" class="form-control">
                <option value="" selected></option>
            </select>
        </label> <br>


        <label class="control-label" for="ciudad">* Ciudad:<br>
            <select data-ng-model="ciudad" ng-options="city as city.nombre for city in estado.ciudades" id="ciudad" class="form-control">
                <option value="" selected></option>
            </select>
        </label><br>


        <label class="control-label" >Zona: <br>
            <select ng-model="Zona" class="form-control">
                <option value="" selected></option>
                <option value="Norte">Norte</option>
                <option value="Sur">Sur</option>
                <option value="Centro">Centro</option>
                <option value="Este">Este</option>
                <option value="Oeste">Oeste</option>
            </select>
        </label><br>

        <label>Precio: <br>
          De:
          <select ng-model="precioMinimo" class="form-control">
              <option value="" selected></option>
              <option value="500">500</option>
              <option value="1000">1,000</option>
              <option value="5000">5,000</option>
              <option value="10000">10,000</option>
              <option value="50000">50,000</option>
              <option value="100000">100,000</option>
              <option value="500000">500,000</option>
              <option value="1000000">1,000,000</option>
              <option value="5000000">5,000,000</option>
              <option value="10000000">10,000,000</option>
              <option value="50000000">50,000,000</option>
          </select>
            Hasta:
          <select ng-model="precioMaximo" class="form-control">
              <option value="" selected></option>
              <option value="500">500</option>
              <option value="1000">1,000</option>
              <option value="5000">5,000</option>
              <option value="10000">10,000</option>
              <option value="50000">50,000</option>
              <option value="100000">100,000</option>
              <option value="500000">500,000</option>
              <option value="1000000">1,000,000</option>
              <option value="5000000">5,000,000</option>
              <option value="10000000">10,000,000</option>
              <option value="50000000">50,000,000</option>
          </select>        </label> <br> 

        <label class="control-label">Moneda: <br>
          <select ng-model="moneda" class="form-control">
              <option value="" selected></option>
              <option value="MNX">Pesos</option>
              <option value="USD">Dólares</option>
              <option value="EUR">Euros</option>
          </select>
        </label> <br>

        <label>No. de plantas: <br>
            <input type="number" ng-model="noPlantas" class="form-control">
        </label> <br>
        <br>

           <div class="col-md-2"><br>
           <img src="modules/core/img/casa1.jpeg" width="250px" height="250px" marginwidth="0" scrolling="no" frameborder="0"><br><br><br>
           <img src="modules/core/img//casa2.jpeg" width="250px" height="250px" marginwidth="0" scrolling="no" frameborder="0"><br><br><br>
           <img src="modules/core/img/casa3.jpeg" width="250px" height="250px" marginwidth="0" scrolling="no" frameborder="0"><br><br>


          </div><br>
        <!-- fin de seccion de publicidad -->

           </div>

    <!-- Inmuebles  | orderBy:['-tipoDestacado', '-user.tipo']-->
    <h4>Mostrando {{(inmuebles | PrecioEntre: precioMinimo: precioMaximo | filter:{tipo_inmueble: categoriaActual,  tipo_trans: transaccionActual, precio:Precio, estado: estado.valor, ciudad: ciudad.nombre, zona: Zona, no_plantas: noPlantas, moneda: moneda}).length}} de {{inmuebles.length}} registros con tus criterios de búsqueda</h4>
    <div class="col-md-9">
        <div class="col-md-4" dir-paginate="inmueble in inmuebles | PrecioEntre: precioMinimo: precioMaximo |filter :{tipo_inmueble: categoriaActual,  tipo_trans: transaccionActual,  estado: estado.valor, ciudad: ciudad.nombre, zona: Zona, no_plantas: noPlantas, moneda: moneda} | itemsPerPage: 9 | orderBy:['-tipoDestacado', '-user.tipo']">

        <table data-ng-show="inmueble.user.estatus==='activo' "><br>
            <tr class="img-thumbnail">        
            <!-- Sección ícono destacado-->
                 <div class="col-md-10  text-lefth capa2" data-ng-hide="inmueble.tipoDestacado==0">
                    <img src="modules/core/img/ListonD.png" width="80%" height="60px">
                  </div><br>          
                <td style="width: 240px; height:425px;">
                <br>    

                    <div class="text-center" >  
                     

                        <FONT FACE="arial" SIZE=2 COLOR="gray">
                            Publicado por:<br>
                            <span data-ng-bind="inmueble.user.displayName"></span>
                        
                        </FONT>
                        <img ng-src="{{inmueble.image[0]}}" id="photo-id" width="100%" height="200"/>
                        
                        <FONT FACE="arial" SIZE=2 COLOR="white" >
                        <h5 class="list-group-item" data-ng-bind="inmueble.titulo"> 
                        </h5>
                        </FONT>

                        <FONT FACE="arial" SIZE=2 COLOR="gray">
                        Tipo de inmueble: {{inmueble.tipo_inmueble}} <br> 
                        Precio: {{inmueble.precio | currency }} {{inmueble.moneda}}<br>
                        </FONT>
                
                        <div class="coll-sm-12">
                           
                            <div class="col-sm-6 botonNaranja botonNaranja-naranja" >
                               <a ng-click="showModal(inmueble)"><font color="#000">Ver Más</font>
                               </a>
                            </div>

                            <div class="col-sm-6 botonNaranja botonNaranja-naranja" data-ng-show="((authentication.user) && (authentication.user._id == inmueble.user._id))">
                               <a data-ng-href="#!/inmuebles/{{inmueble._id}}/edit"><font color="#000">Editar</font>
                               </a>
                            </div>
                        </div>

                        <div class="coll-sm-12">
<!--                             <div class="col-sm-6 botonNaranja botonNaranja-naranja" data-ng-show="inmueble.user.tipo==='pagosite'">

                                <a data-ng-href="#!/inmuebles/{{inmueble._id}}"><font color="#000">Ver Sitio</font>
                                </a>
                            </div> -->

<!--                             <div class="col-sm-6 botonNaranja botonNaranja-naranja" data-ng-show="inmueble.user.tipo==='pagosite'">

                                <a data-ng-href="#!/inmuebles/{{inmueble._id}}"><font color="#000">Compartir</font>
                                </a>
                            </div> -->
                        </div>
                        

                      <div class="col-sm-12">
                      
                      </div> 

                    </div> <!--  -->
                </td>
            </tr>
        </table>
        </div>
        
    </div>
    <div class="col-md-12 text-center" >
      <dir-pagination-controls max-size="5" direction-links="true" boundary-links="true" > </dir-pagination-controls>
    </div>

    
<!--mensaje que se envía cuando no existen registros-->
<div class="alert alert-warning text-center" data-ng-hide="!inmuebles.$resolved || inmuebles.length">
   No Inmuebles yet, why don't you <a href="/#!/inmuebles/create">create one</a>?
</div>

</section>